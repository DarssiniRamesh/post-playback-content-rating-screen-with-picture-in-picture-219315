{"is_source_file": true, "format": "Kotlin", "description": "This file contains the implementation of LocalPrefsRatingRepository, which manages per-content rating state using Android's SharedPreferences. It provides methods to check if a content has been rated, to set its rated state, to determine if it is liked, and to set its like state. The class ensures data persistence across app restarts and namespaces keys to avoid collisions.", "external_files": ["android.content.Context", "android.content.SharedPreferences"], "external_methods": ["android.content.Context.getSharedPreferences", "SharedPreferences.edit", "SharedPreferences.getBoolean", "SharedPreferences.getInt", "SharedPreferences.Editor.putBoolean", "SharedPreferences.Editor.putInt", "SharedPreferences.Editor.commit"], "published": ["hasRated", "setRated", "isLiked", "setLike"], "classes": [{"name": "LocalPrefsRatingRepository", "description": "A repository class that manages local content ratings and liked states using SharedPreferences."}], "methods": [{"name": "hasRated", "description": "Checks if the content identified by contentId has been rated by reading the shared preferences."}, {"name": "setRated", "description": "Marks the content as rated or unrated in shared preferences."}, {"name": "isLiked", "description": "Determines if the content is liked based on stored preference; defaults to false if no data exists."}, {"name": "setLike", "description": "Sets the like status for the content and marks it as rated."}], "calls": ["appContext.getSharedPreferences", "prefs.getBoolean", "prefs.edit", "SharedPreferences.Editor.putBoolean", "SharedPreferences.Editor.putInt", "commit"], "search-terms": ["SharedPreferences content rating", "Locale rating repository", "Android Kotlin SharedPreferences"], "state": 2, "file_id": 42, "knowledge_revision": 175, "git_revision": "", "hash": "fa840ea25ae76988f341eb326cc6ba78", "format-version": 4, "code-base-name": "post_playback_rating_frontend", "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/data/LocalPrefsRatingRepository.kt", "revision_history": [{"175": ""}]}