{"is_source_file": true, "format": "Kotlin", "description": "This file implements a Service Locator pattern for managing dependencies in a Kotlin Android project. It provides access to various repositories and APIs, deciding whether to use real network implementations or mock implementations based on feature flags and configuration.", "external_files": ["com/example/post_playback_rating_frontend/core/FeatureFlags", "com/example/post_playback_rating_frontend/data/network/ApiClient", "com/example/post_playback_rating_frontend/data/network/AssetsApi", "com/example/post_playback_rating_frontend/data/network/ContentApi", "com/example/post_playback_rating_frontend/data/network/MetadataApi", "com/example/post_playback_rating_frontend/data/network/LikesApi", "com/example/post_playback_rating_frontend/data/network/NetworkAssetsRepository", "com/example/post_playback_rating_frontend/data/network/NetworkContentRepository", "com/example/post_playback_rating_frontend/data/network/NetworkMetadataRepository", "com/example/post_playback_rating_frontend/data/network/NetworkRatingRepository"], "external_methods": ["com.example.post_playback_rating_frontend.data.network.ApiClient.NetworkConfig.fromBuildConfig()", "com.example.post_playback_rating_frontend.data.network.ApiClient.retrofit()", "android.util.Log.w()", "android.util.Log.i()"], "published": ["com.example.post_playback_rating_frontend.data.ServiceLocator"], "classes": [{"name": "ServiceLocator", "description": "A singleton object managing creation and provision of various repositories and APIs, switching between mock and network implementations based on config and feature flags."}], "methods": [{"name": "contentRepository", "description": "Returns a ContentRepository instance, either network-based or mock based on configuration."}, {"name": "metadataRepository", "description": "Returns a MetadataRepository instance, either network-based or mock, requiring a Context."}, {"name": "assetsRepository", "description": "Returns an AssetsRepository instance, either network-based or mock."}, {"name": "ratingRepository", "description": "Returns a RatingRepository instance, either network-based or mock."}, {"name": "useMocks", "description": "Indicates whether the system is in mock mode, based on feature flags."}, {"name": "shouldUseNetwork", "description": "Determines if the application should perform network operations based on feature flags and base URL configurations."}, {"name": "ensureApis", "description": "Initializes API instances if they haven't been created yet, based on configuration URLs."}, {"name": "logDataSourceOnce", "description": "Logs the current data source (network or mock) once, to avoid repetitive logs."}], "calls": ["FeatureFlags.useMocks", "ApiClient.NetworkConfig.fromBuildConfig", "ApiClient.retrofit", "contentRetrofit.create", "metadataRetrofit.create", "assetsRetrofit.create", "likesRetrofit.create", "Log.w", "Log.i"], "search-terms": ["ServiceLocator", "dependency injection", "kotlin singleton", "network vs mock repositories", "API configuration", "base URL placeholder", "feature flag"], "state": 2, "file_id": 18, "knowledge_revision": 116, "git_revision": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f", "revision_history": [{"42": ""}, {"116": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f"}], "hash": "861b4e8ca12600f4ede269ec1de1ce2a", "format-version": 4, "code-base-name": "post_playback_rating_frontend", "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/data/ServiceLocator.kt"}