{"is_source_file": true, "format": "Kotlin (Java for Android)", "description": "This file defines the MainActivity class for an Android TV application. It manages fragment hosting, mock playback simulation, and overlay UI presentation. It also implements the RatingOverlayHost interface for overlay interactions.", "external_files": ["R.layout.activity_main", "com.example.post_playback_rating_frontend.core.FeatureFlags", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel", "com.example.post_playback_rating_frontend.rating.RatingOverlayFragment", "com.example.post_playback_rating_frontend.rating.RatingOverlayHost", "com.example.post_playback_rating_frontend.ui.IndiceFragment"], "external_methods": ["supportFragmentManager.beginTransaction()", "supportFragmentManager.findFragmentByTag()", "supportFragmentManager.popBackStack()", "supportFragmentManager.commitNow()", "supportFragmentManager.isDestroyed()", "Handler.post()", "Handler.postDelayed()", "FragmentActivity.setContentView()", "FragmentActivity.finish()"], "published": ["showRatingOverlay", "navigateToVcard", "showEndPlayer"], "classes": [{"name": "MainActivity", "description": "The main activity managing playback simulation, fragment hosting, and overlay interactions for an Android TV app."}], "methods": [{"name": "onCreate", "description": "Initializes the activity, loads the main fragment, and starts mock playback if enabled."}, {"name": "startMockPlayback", "description": "Simulates video playback progression, triggers overlay at specific times."}, {"name": "onCreditsStart", "description": "Handles the start of credits, triggers overlay display in mock mode."}, {"name": "onKeyDown", "description": "Handles key events, delegating to default handling."}, {"name": "onBackPressed", "description": "Provides predictable back navigation behavior."}, {"name": "showRatingOverlay", "description": "Displays the rating overlay fragment."}, {"name": "navigateToVcard", "description": "Stub for navigation to a detailed screen post-rating."}, {"name": "showEndPlayer", "description": "Stub for returning to end or main scene."}], "calls": ["supportFragmentManager.beginTransaction", "supportFragmentManager.findFragmentByTag", "supportFragmentManager.popBackStack", "supportFragmentManager.commitNow", "handler.post", "handler.postDelayed"], "search-terms": ["MainActivity", "RatingOverlayHost", "mock playback", "mockDurationMs", "Handler", "FragmentTransaction", "overlay", "postPlayback"], "state": 2, "file_id": 5, "knowledge_revision": 98, "git_revision": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f", "revision_history": [{"23": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"34": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"98": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f"}], "hash": "0366f417f24de062f24b0b1fd87c1363", "format-version": 4, "code-base-name": "post_playback_rating_frontend", "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/MainActivity.kt"}