{"is_source_file": true, "format": "Kotlin", "description": "MainActivity class for an Android TV app, managing fragment hosting, back navigation, mock playback simulation, and rating overlay interactions.", "external_files": ["android.os.Bundle", "android.os.Handler", "android.os.Looper", "android.util.Log", "android.view.KeyEvent", "androidx.activity.viewModels", "androidx.fragment.app.FragmentActivity", "com.example.post_playback_rating_frontend.core.FeatureFlags", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel", "com.example.post_playback_rating_frontend.rating.RatingOverlayFragment", "com.example.post_playback_rating_frontend.rating.RatingOverlayHost", "com.example.post_playback_rating_frontend.ui.IndiceFragment", "com.example.post_playback_rating_frontend.data.ServiceLocator"], "external_methods": ["com.example.post_playback_rating_frontend.data.ServiceLocator.useMocks", "R.layout.activity_main", "supportFragmentManager.beginTransaction", "supportFragmentManager.popBackStack", "supportFragmentManager.findFragmentByTag", "supportFragmentManager.newInstance", "RatingOverlayFragment.newInstance", "RatingOverlayFragment.show"], "published": ["showRatingOverlay", "navigateToVcard", "showEndPlayer"], "classes": [{"name": "MainActivity", "description": "Main activity class managing UI fragments, mock playback, and rating overlay presentation for Android TV."}], "methods": [{"name": "onCreate", "description": "Initializes activity, sets layout, loads indices, and starts mock playback if enabled."}, {"name": "startMockPlayback", "description": "Simulates playback by periodically updating position and triggering overlay when appropriate."}, {"name": "onCreditsStart", "description": "Handles logic when playback reaches credits start point; shows overlay if mocks are used."}, {"name": "onKeyDown", "description": "Handles key events, allowing fragments to intercept if needed."}, {"name": "onBackPressed", "description": "Handles back navigation, popping fragment stack or finishing activity."}, {"name": "showRatingOverlay", "description": "Displays the rating overlay fragment."}, {"name": "navigateToVcard", "description": "Stub for navigating to post-rating screen."}, {"name": "showEndPlayer", "description": "Stub for returning to main or end screen."}], "calls": ["com.example.post_playback_rating_frontend.data.ServiceLocator.useMocks", "supportFragmentManager.beginTransaction", "supportFragmentManager.popBackStack", "supportFragmentManager.findFragmentByTag", "RatingOverlayFragment.newInstance", "RatingOverlayFragment.show", "handler.post", "handler.postDelayed"], "search-terms": ["MainActivity", "RatingOverlay", "mock playback", "TV app", "fragment management", "overlay UI", "credits start", "post_playback_rating_frontend"], "state": 2, "file_id": 5, "knowledge_revision": 117, "git_revision": "5bfdd06a5106031bd12fb1327e62708b507f181c", "revision_history": [{"23": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"34": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"98": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f"}, {"117": "5bfdd06a5106031bd12fb1327e62708b507f181c"}], "hash": "de79405e7af3bab0e30b83cac45ffc6d", "format-version": 4, "code-base-name": "post_playback_rating_frontend", "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/MainActivity.kt"}