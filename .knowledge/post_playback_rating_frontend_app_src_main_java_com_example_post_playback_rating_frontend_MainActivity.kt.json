{"is_source_file": true, "format": "Kotlin", "description": "MainActivity.kt \u2014 the main Android activity for a TV app that manages playback simulation, overlay rating UI, and navigation. It implements mock playback, state observation, and UI control for a demo environment without network dependencies.", "external_files": ["android.os.Bundle", "android.os.Handler", "android.os.Looper", "android.util.Log", "android.view.KeyEvent", "androidx.activity.viewModels", "androidx.fragment.app.FragmentActivity", "androidx.lifecycle.Observer", "com.example.post_playback_rating_frontend.core.FeatureFlags", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel", "com.example.post_playback_rating_frontend.rating.RatingOverlayFragment", "com.example.post_playback_rating_frontend.rating.RatingOverlayHost", "com.example.post_playback_rating_frontend.ui.IndiceFragment", "com.example.post_playback_rating_frontend.data.ServiceLocator"], "external_methods": ["com.example.post_playback_rating_frontend.data.ServiceLocator.useMocks()", "FeatureFlags.logMockModeIfEnabled()"], "published": ["showRatingOverlay", "navigateToVcard", "showEndPlayer"], "classes": [{"name": "MainActivity", "description": "Primary activity managing mock playback, overlay visibility, and navigation for an Android TV app demo.", "methods": [{"name": "onCreate", "description": "Initializes activity, loads UI, sets up observers, and starts mock playback if enabled."}, {"name": "observeRatingState", "description": "Sets up observer for ViewModel state to update UI accordingly."}, {"name": "startMockPlayback", "description": "Simulates playback, updating position and triggering overlay display at the rolling credits point."}, {"name": "onCreditsStart", "description": "Handles logic when credits start to play, informing ViewModel."}, {"name": "onKeyDown", "description": "Delegates key events handling."}, {"name": "onBackPressed", "description": "Handles back navigation, popping fragments or finishing activity."}, {"name": "showRatingOverlay", "description": "Creates and displays the rating overlay fragment."}, {"name": "navigateToVcard", "description": "Handles navigation to a detailed view or vCard after rating."}, {"name": "showEndPlayer", "description": "Returns to the end screen or final view stage."}]}], "search-terms": ["MainActivity", "RatingOverlayHost", "mock playback", "overlay visibility", "credits start", "MockMode", "demo playback", "Android TV", "viewModel", "overlay states"], "state": 2, "file_id": 5, "knowledge_revision": 216, "git_revision": "9b08d69473d4f52914b28559a6f1697f878c6049", "revision_history": [{"23": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"34": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"98": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f"}, {"117": "5bfdd06a5106031bd12fb1327e62708b507f181c"}, {"173": "de8f2b846d59b2231617c5f56aca9d0d53c41fb5"}, {"214": "de8f2b846d59b2231617c5f56aca9d0d53c41fb5"}, {"215": "9b08d69473d4f52914b28559a6f1697f878c6049"}, {"216": "9b08d69473d4f52914b28559a6f1697f878c6049"}], "hash": "c11646e93e77f40286c49ff0ca874133", "format-version": 4, "code-base-name": "post_playback_rating_frontend", "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/MainActivity.kt"}