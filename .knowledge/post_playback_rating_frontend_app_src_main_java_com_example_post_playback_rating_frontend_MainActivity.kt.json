{"is_source_file": true, "format": "Kotlin", "description": "MainActivity for an Android TV app, managing UI fragments, handling mock playback simulation, and implementing RatingOverlayHost interface. Coordinates mock playback progress, overlays, and navigation.", "external_files": ["R.layout.activity_main", "com.example.post_playback_rating_frontend.core.FeatureFlags", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel", "com.example.post_playback_rating_frontend.rating.RatingOverlayFragment", "com.example.post_playback_rating_frontend.rating.RatingOverlayHost", "com.example.post_playback_rating_frontend.ui.IndiceFragment", "com.example.post_playback_rating_frontend.data.ServiceLocator"], "external_methods": ["com.example.post_playback_rating_frontend.data.ServiceLocator.useMocks", "FeatureFlags.logMockModeIfEnabled", "supportFragmentManager.beginTransaction", "supportFragmentManager.popBackStack", "supportFragmentManager.findFragmentByTag", "saveInstanceState", "setContentView", "finish", "show", "onCreate", "onKeyDown", "onBackPressed"], "published": ["showRatingOverlay", "navigateToVcard", "showEndPlayer"], "classes": [{"name": "MainActivity", "description": "Main activity class for the Android TV app, handling fragment management, mock playback simulation, and overlay interactions."}], "methods": [{"name": "onCreate", "description": "Initializes the activity, sets layout, loads initial fragment, and starts mock playback if enabled."}, {"name": "startMockPlayback", "description": "Simulates playback by updating position and triggering events periodically."}, {"name": "onCreditsStart", "description": "Handles the start of credits, shows overlay if mocks are enabled."}, {"name": "onKeyDown", "description": "Handles key down events."}, {"name": "onBackPressed", "description": "Handles back navigation, popping fragment back stack or finishing activity."}, {"name": "showRatingOverlay", "description": "Displays the rating overlay UI fragment."}, {"name": "navigateToVcard", "description": "Stub for navigating to a vCard or post-rating detail screen."}, {"name": "showEndPlayer", "description": "Stub for returning to the main playback area or end screen."}], "calls": ["supportFragmentManager.beginTransaction", "supportFragmentManager.popBackStack", "supportFragmentManager.findFragmentByTag", "Log.i", "FeatureFlags.logMockModeIfEnabled", "handler.post", "handler.postDelayed", "supportFragmentManager.commitNow", "supportFragmentManager.replace"], "search-terms": ["MainActivity Kotlin Android", "Fake playback simulation", "Rating overlay management", "Mock data source", "Fragment management", "Android TV app"], "state": 2, "file_id": 5, "knowledge_revision": 173, "git_revision": "de8f2b846d59b2231617c5f56aca9d0d53c41fb5", "revision_history": [{"23": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"34": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"98": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f"}, {"117": "5bfdd06a5106031bd12fb1327e62708b507f181c"}, {"173": "de8f2b846d59b2231617c5f56aca9d0d53c41fb5"}], "hash": "395cd091b96992c0283626ee81861e04", "format-version": 4, "code-base-name": "post_playback_rating_frontend", "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/MainActivity.kt"}