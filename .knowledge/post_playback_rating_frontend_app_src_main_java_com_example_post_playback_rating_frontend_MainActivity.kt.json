{"is_source_file": true, "format": "Kotlin", "description": "MainActivity class for an Android TV application, managing fragment hosting, back navigation, mock playback simulation, and overlay UI interactions.", "external_files": ["android.os.Bundle", "android.os.Handler", "android.os.Looper", "android.util.Log", "android.view.KeyEvent", "androidx.activity.viewModels", "androidx.fragment.app.FragmentActivity", "com.example.post_playback_rating_frontend.core.FeatureFlags", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel", "com.example.post_playback_rating_frontend.rating.RatingOverlayFragment", "com.example.post_playback_rating_frontend.rating.RatingOverlayHost", "com.example.post_playback_rating_frontend.ui.IndiceFragment", "com.example.post_playback_rating_frontend.data.ServiceLocator", "R.layout.activity_main"], "external_methods": ["com.example.post_playback_rating_frontend.data.ServiceLocator.useMocks()", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel.onDurationChanged()", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel.onPlaybackPositionChanged()", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel.onCreditsStart()", "com.example.post_playback_rating_frontend.rating.PostPlaybackRatingViewModel.onEndReached()", "com.example.post_playback_rating_frontend.rating.RatingOverlayFragment.newInstance()", "com.example.post_playback_rating_frontend.rating.RatingOverlayFragment.show()", "supportFragmentManager.beginTransaction()", "supportFragmentManager.findFragmentByTag()", "supportFragmentManager.popBackStack()", "finish()"], "published": ["showRatingOverlay", "navigateToVcard", "showEndPlayer"], "classes": [{"name": "MainActivity", "description": "Main activity class for Android TV, managing UI fragments, mock playback, and overlay interactions."}], "methods": [{"name": "onCreate", "description": "Initializes activity, sets layout, logs data source, loads index fragment, and starts mock playback if enabled."}, {"name": "startMockPlayback", "description": "Simulates playback by updating position and triggering overlay at specific times."}, {"name": "onCreditsStart", "description": "Handles the start of credits, triggers overlay display if mocks are used."}, {"name": "onKeyDown", "description": "Handles key events, allowing fragments to process key inputs."}, {"name": "onBackPressed", "description": "Handles back navigation, popping fragment stack or finishing activity."}, {"name": "showRatingOverlay", "description": "Displays the rating overlay fragment if not already shown."}, {"name": "navigateToVcard", "description": "Stub for navigating to a vCard or post-rating detail screen."}, {"name": "showEndPlayer", "description": "Stub for returning to the end player or main playback area."}], "calls": ["com.example.post_playback_rating_frontend.data.ServiceLocator.useMocks()", "ratingVm.onDurationChanged()", "ratingVm.onPlaybackPositionChanged()", "ratingVm.onCreditsStart()", "ratingVm.onEndReached()", "RatingOverlayFragment.newInstance()", "RatingOverlayFragment.show()", "supportFragmentManager.beginTransaction()", "supportFragmentManager.findFragmentByTag()", "supportFragmentManager.popBackStack()", "finish()"], "search-terms": ["Android TV", "Mock playback", "Rating overlay", "Fragment management", "PostPlaybackRatingViewModel", "IndiceFragment", "RatingOverlayHost", "MainActivity"], "state": 2, "file_id": 5, "knowledge_revision": 132, "git_revision": "54db1270b02a869120a47524c2338e8a723d89e6", "revision_history": [{"23": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"34": "9e62503ef32dede80b7dc75b63001351ab3f2afb"}, {"98": "f6040b07f1ebfff0b91916c49b756cc00ec43a4f"}, {"117": "5bfdd06a5106031bd12fb1327e62708b507f181c"}, {"132": "54db1270b02a869120a47524c2338e8a723d89e6"}], "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/MainActivity.kt", "format-version": 4, "code-base-name": "https://github.com/DarssiniRamesh/post-playback-content-rating-screen-with-picture-in-picture-219315.git:kavia-main"}