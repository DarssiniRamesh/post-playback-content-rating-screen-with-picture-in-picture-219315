{"is_source_file": true, "format": "Kotlin", "description": "This file defines a Kotlin class RatingOverlayFragment, which is a DialogFragment responsible for rendering a post-playback content rating overlay UI in an Android app. It manages UI elements such as poster background, PIP placeholder, title, helper text, control buttons, and countdown timer. It also handles user interactions, accessibility, focus navigation (DPAD order), and observes ViewModel state updates to update the overlay accordingly.", "external_files": ["R.layout.fragment_rating_overlay", "R.style.OverlayDialogTheme", "R.string.rating_like", "R.string.rating_love", "R.string.rating_dislike", "R.string.rating_close", "R.string.rating_message", "R.string.rating_countdown"], "external_methods": ["android.content.Context", "android.graphics.Color.parseColor", "android.os.Bundle", "android.view.KeyEvent", "android.view.LayoutInflater", "android.view.View", "android.view.ViewGroup", "android.view.ViewGroup.LayoutParams", "android.widget.Button", "android.widget.ImageView", "android.widget.TextView", "androidx.fragment.app.DialogFragment", "androidx.fragment.app.activityViewModels", "androidx.lifecycle.Observer"], "published": ["com.example.post_playback_rating_frontend.rating.RatingOverlayFragment.TAG"], "classes": [{"name": "RatingOverlayFragment", "description": "A DialogFragment subclass providing an overlay UI to rate content after playback, including buttons for like, love, dislike, a close button, and a countdown timer. It manages focus navigation and observes ViewModel state for dynamic updates."}], "methods": [{"name": "newInstance", "description": "Creates and returns a new instance of RatingOverlayFragment."}, {"name": "onAttach", "description": "Attaches the fragment to a context, setting the host if context implements RatingOverlayHost."}, {"name": "onCreate", "description": "Initializes the dialog style with a custom theme."}, {"name": "onStart", "description": "Sets the dialog to fullscreen with transparent background."}, {"name": "onCreateView", "description": "Inflates the overlay layout from XML."}, {"name": "onViewCreated", "description": "Initializes UI elements, sets focus, accessibility, click listeners, and observes ViewModel state to update UI accordingly."}, {"name": "setupDpadOrder", "description": "Configures focus navigation order for the control buttons to ensure predictable DPAD navigation."}], "calls": ["super.onAttach", "super.onCreate", "dialog?.window?.setLayout", "dialog?.window?.setBackgroundDrawableResource", "inflater.inflate", "view.findViewById", "view.setOnKeyListener", "Color.parseColor", "getString"], "search-terms": ["RatingOverlayFragment", "post_playback", "content rating overlay", "DPAD navigation", "Full-screen dialog", "ViewModel observation", "Android DialogFragment", "focus navigation", "accessibility labels", "countdown timer"], "state": 2, "file_id": 33, "knowledge_revision": 185, "git_revision": "39c93db417bb0cddb9aba9093e4322452f528515", "revision_history": [{"94": ""}, {"127": "5bfdd06a5106031bd12fb1327e62708b507f181c"}, {"185": "39c93db417bb0cddb9aba9093e4322452f528515"}], "hash": "bdc4922c3ca360f592e32ac1ef40543c", "format-version": 4, "code-base-name": "post_playback_rating_frontend", "filename": "post_playback_rating_frontend/app/src/main/java/com/example/post_playback_rating_frontend/rating/RatingOverlayFragment.kt"}